<!DOCTYPE html>
<html lang="en">
<head>
  <title>Telegram-Live-Cric-Hd</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
  <meta name="referrer" content="no-referrer"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/plyr@3.6.12/dist/plyr.css"/>

<style>
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:#000;
  color:#fff;
}

.bar{max-width:980px;margin:14px auto;padding:0 12px;}

.pill{
  background:linear-gradient(90deg,#0b3b8c,#072b6a);
  padding:12px;border-radius:12px;
  text-align:center;font-weight:800;
}

.panel{
  background:#000;border-radius:6px;
  margin:12px 0;overflow:hidden;
  border:2px solid rgba(30,120,255,.3);
}

video{
  width:100%;
  height:auto;
  aspect-ratio:16/9;
  background:#000;
  object-fit:contain;
}

video.fit-contain{object-fit:contain!important;}
video.fit-cover{object-fit:cover!important;}
video.fit-fill{object-fit:fill!important;}
video.fit-none{object-fit:none!important;}

.section{
  background:linear-gradient(90deg,#0b3b8c,#072b6a);
  border-radius:12px;padding:14px;margin:12px 0;
}

.section h3{text-align:center;margin:0 0 10px;}

.row{display:flex;justify-content:center;}

.btn{
  padding:10px 16px;border-radius:12px;
  border:2px solid #fff;color:#fff;
  background:transparent;font-weight:700;
  cursor:pointer;text-decoration:none;
}

.btn img{width:20px;margin-right:6px;}

.promo-card{
  display:block;margin:16px 0;
  border-radius:12px;overflow:hidden;
  border:2px solid gold;
  text-decoration:none;
}

.promo-card img{width:100%;display:block;}

.promo-text-area{
  background:linear-gradient(90deg,#ffae00,#ffcc00);
  text-align:center;padding:12px;
  font-weight:900;color:#000;
}
</style>
</head>

<body>

<div class="bar">

  <div class="pill">Live Cric HD</div>

  <div class="panel">
    <video id="player" autoplay muted controls playsinline></video>
  </div>

  <div class="section">
    <h3>ðŸ“£ Follow Us For More Updates</h3>
    <div class="row">
      <a class="btn" href="https://telegram.me/livecrichdofficial" target="_blank">
        Join Telegram Channel
      </a>
    </div>
  </div>

  <div class="section">
    <h3>Copy Link & Open in Chrome Only</h3>
    <div class="row">
      <button class="btn" onclick="navigator.share && navigator.share({url:location.href})">
        Share This Page âœ¨
      </button>
    </div>
  </div>

  <a class="promo-card" href="https://winstrike365.com" target="_blank">
    <img src="https://i.ibb.co/HL6BMfCB/IMG-20260129-215157.jpg">
    <div class="promo-text-area">MAKE ID NOW</div>
  </a>

</div>

<script src="https://lchdxfootball.pages.dev/premium.js"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@1.1.4/dist/hls.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/plyr@3.6.12/dist/plyr.min.js"></script>

<script>
const allowedDomain = "livecrichdtv.pages.dev";

if (window.top !== window.self || window.location.hostname !== allowedDomain) {
  window.top.location.href = "https://telegram.me/livecrichdofficial";
}

document.addEventListener("DOMContentLoaded", () => {

  const video = document.getElementById("player");
  const params = new URLSearchParams(window.location.search);
  const id = params.get("id");

  if (!id) {
  document.body.innerHTML =
    "<h2 style='color:white;text-align:center;margin-top:20%;'>Invalid Stream ID</h2>";
  return;
}

if (typeof streamMap === "undefined" || !streamMap[id]) {
  setTimeout(() => {
    if (typeof streamMap === "undefined" || !streamMap[id]) {
      document.body.innerHTML =
        "<h2 style='color:white;text-align:center;margin-top:20%;'>Invalid Stream ID</h2>";
    }
  }, 500);
  return;
}

  const source = streamMap[id].url;
  const poster = streamMap[id].poster;
  if (poster) video.poster = poster;

  if (Hls.isSupported()) {

    const hls = new Hls({
      maxBufferLength: 20,
      maxMaxBufferLength: 40,
      liveSyncDurationCount: 3,
      enableWorker: true,
      lowLatencyMode: true
    });

    hls.loadSource(source);
    hls.attachMedia(video);

    hls.on(Hls.Events.MANIFEST_PARSED, () => {

  const qualities = hls.levels.map(l => l.height);
  const defaultQuality = qualities[qualities.length - 1];

  const player = new Plyr(video, {
    controls: ["play-large","play","mute","volume","settings","fullscreen"],
    settings: ["quality","speed"],
    quality: {
      default: defaultQuality,
      options: qualities,
      forced: true,
      onChange: q => {
        hls.levels.forEach((l,i)=>{
          if(l.height===q) hls.currentLevel=i;
        });
      }
    }
  });

  player.on("ready", () => {

    const settingsMenu = document.querySelector(".plyr__menu__container");
    if (!settingsMenu) return;

    const modeHTML = `
      <div class="plyr__menu__label">Screen Mode</div>
      <button type="button" class="plyr__control" data-mode="contain">Normal Screen</button>
      <button type="button" class="plyr__control" data-mode="cover">Full Screen</button>
      <button type="button" class="plyr__control" data-mode="fill">Fit Screen</button>
      <button type="button" class="plyr__control" data-mode="none">Zoom Screen</button>
    `;

    settingsMenu.insertAdjacentHTML("beforeend", modeHTML);

    document.querySelectorAll("[data-mode]").forEach(btn => {
      btn.addEventListener("click", function () {
        video.classList.remove("fit-contain","fit-cover","fit-fill","fit-none");
        video.classList.add("fit-" + this.dataset.mode);
      });
    });

  });

});

      document.addEventListener("fullscreenchange", () => {
        if (document.fullscreenElement) {
          screen.orientation?.lock?.("landscape").catch(()=>{});
        } else {
          screen.orientation?.unlock?.().catch(()=>{});
        }
      });

    });

  } else if (video.canPlayType("application/vnd.apple.mpegurl")) {
    video.src = source;
    new Plyr(video);
  } else {
    document.body.innerHTML =
      '<h2 style="color:white;text-align:center;margin-top:20%;">HLS Not Supported</h2>';
  }

});
</script>

</body>
</html>
