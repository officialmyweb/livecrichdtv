<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<title>Telegram Live Cric HD</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.7.6/shaka-player.ui.min.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.7.6/controls.min.css" crossorigin="anonymous">

<link rel="stylesheet" href="https://lchdxfootball.pages.dev/livecrichd2.css">
<script src="https://lchdxfootball.pages.dev/sknzx.js"></script>

<style>
:root{
  --blue1:#0b3b8c;
  --blue2:#072b6a;
  --bg:#0a1733;
  --text:#ffffff;
  --cardBorder: rgba(30,120,255,.25);
  --shadow: rgba(0,0,0,.25);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:var(--bg);
  color:var(--text);
  overflow-y: auto;
}
.bar{max-width:980px;margin:14px auto;padding:0 12px;}
.pill{
  background:linear-gradient(90deg,var(--blue1),var(--blue2));
  padding:12px;border-radius:12px;
  text-align:center;font-weight:800;
  box-shadow:0 8px 20px var(--shadow);
}
.panel{
  background:#000;border-radius:6px;
  margin:12px 0;overflow:hidden;
  border:3px solid var(--cardBorder);
}
.shaka-video{width:100%;aspect-ratio:16/9;background:#000}
.section{
  background:linear-gradient(90deg,var(--blue1),var(--blue2));
  border-radius:12px;padding:14px;margin:12px 0;
}
.section h3{text-align:center;margin:0 0 10px}
.row{display:flex;justify-content:center}
.btn{
  padding:10px 16px;border-radius:12px;
  border:2px solid #fff;color:#fff;
  background:transparent;font-weight:700;
  cursor:pointer;text-decoration:none;
  display:inline-flex;align-items:center;gap:8px;
}
.btn img{width:20px}

.promo-card{
  display:block;margin:16px 0;
  border-radius:12px;overflow:hidden;
  border:2px solid #ffd700;
  box-shadow:0 0 15px rgba(255,215,0,.3);
  text-decoration:none;
}
.promo-card img{width:100%;display:block}
.promo-text-area{
  background:linear-gradient(90deg,#ffae00,#ffcc00);
  text-align:center;padding:12px;
  font-weight:900;color:#000;
}

.shaka-settings-menu {
  max-height: 220px !important;   
  overflow-y: auto !important;    
  -webkit-overflow-scrolling: touch; 
}
  
.shaka-settings-menu button {
  padding: 8px 12px;
}

.video-contain video { object-fit: contain !important; }
.video-cover video { object-fit: cover !important; }
.video-fill video { object-fit: fill !important; }
  
  .shaka-logo{
  position:absolute;
  top:9px;
  left:14px;
  width:75px;
  height:auto;
  z-index:9999;
  pointer-events:none;
  opacity:0.95;
  border-radius:6px;
  background:rgba(255,255,255,0.02);
  padding:4px;
  box-shadow:0 6px 18px rgba(0,0,0,0.12);
}

@media (max-width:420px){
  .shaka-logo{
    width:36px;
    top:3px;
    left:3px;
  }
}
    
.shaka-spinner-container{display:none}
</style>
</head>

<body>

<div class="bar">
  <div class="pill">ÊŸÉªá´ á´‡ á´„Ê€Éªá´„ Êœá´…</div>

  <div class="panel">
    <div data-shaka-player-container>
      <video
        id="video"
        class="shaka-video"
        autoplay
        muted
        playsinline
        data-shaka-player
        poster="#">
      </video>
    </div>
  </div>

  <div class="section">
    <h3>ðŸ“£ Follow Us For More Update!</h3>
    <div class="row">
      <a class="btn" href="https://telegram.me/livecrichdofficial" target="_blank">
        <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg">
       Click Here To Join Telegram Channel
      </a>
    </div>
  </div>

  <div class="section">
    <h3>Copy Link & Open in Chrome Only</h3>
    <div class="row">
      <button class="btn" onclick="navigator.share({url:location.href})">
        Click Here To Share This Page âœ¨
      </button>
    </div>
  </div>

  <a class="promo-card" href="https://winstrike365.com" target="_blank">
    <img src="https://i.ibb.co/HL6BMfCB/IMG-20260129-215157.jpg">
    <div class="promo-text-area">MAKE ID NOW</div>
  </a>
</div>

<script>
const allowedDomain = "livecrichdtv.pages.dev";

if (window.top !== window.self || location.hostname !== allowedDomain) {location.href = "https://telegram.me/livecrichdofficial";}

if (confirm("Join Our Telegram Channel @livecrichdofficial")) { window.location.href = "https://telegram.me/livecrichdofficial"; }
  
const decryptionKey = "gf676rc7gr4grg78r6ag56gg8f76713f";
let selectedData = null;
function decryptBase64(data, key) {
  const bytes = atob(data);
  let out = "";
  for (let i = 0; i < bytes.length; i++) {
    out += String.fromCharCode(
      bytes.charCodeAt(i) ^ key.charCodeAt(i % key.length)
    );
  }
  return JSON.parse(out);
}

const id = new URLSearchParams(location.search).get("id");

if (typeof encodedChannelData === "undefined" || !encodedChannelData[id]) {
  alert("Invalid Stream ID");
  location.href = "https://telegram.me/livecrichdofficial";
} else {
  selectedData = decryptBase64(encodedChannelData[id], decryptionKey);
}
</script>

<script>
async function initPlayer() {
  const video = document.getElementById("video");
  const ui = video.ui;
  const player = ui.getControls().getPlayer();

  ui.configure({
    controlPanelElements: [
      'play_pause','mute','spacer',
      'time_and_duration','quality',
      'fullscreen','overflow_menu'
    ]
  });

const overflowMenu = document.querySelector('.shaka-overflow-menu');

if (overflowMenu) {

  const button = document.createElement('button');
  button.className = 'shaka-overflow-menu-button';
  button.innerHTML = `
    <span class="material-icons-round">aspect_ratio</span>
    <span>Screen Mode</span>
  `;

  overflowMenu.appendChild(button);

  let mode = 0; 

  button.addEventListener('click', () => {

    const container = document.querySelector(".shaka-video-container");

    container.classList.remove("video-contain","video-cover","video-fill");

    if (mode === 0) {
      container.classList.add("video-cover");
      button.querySelector("span:last-child").textContent = "Fill Screen";
      mode = 1;
    }
    else if (mode === 1) {
      container.classList.add("video-fill");
      button.querySelector("span:last-child").textContent = "Stretch";
      mode = 2;
    }
    else {
      container.classList.add("video-contain");
      button.querySelector("span:last-child").textContent = "Fit Screen";
      mode = 0;
    }

  });
}
  
  player.configure({
    streaming: {
      rebufferingGoal: 5,
      bufferingGoal: 20
    },
    drm: {
      clearKeys: selectedData.DRMKeys
    }
  });

  try {
    await player.load(selectedData.ManifestURI);
    console.log("Stream loaded");
  } catch (e) {
    console.error("Shaka error", e);
  }
}

function addOverlayLogo() {

  const container = document.querySelector(".shaka-video-container");

  try {
    const existingLogo = container.querySelector('.shaka-logo');
    if (existingLogo) existingLogo.remove();

    const logo = document.createElement('img');
    logo.className = 'shaka-logo';
    logo.alt = 'WinStrike logo';
    logo.src = 'https://d1gvwx1uptx1i3.cloudfront.net/khelocdn/public/assets/general_setting/winstrike/logo.png';

    container.appendChild(logo);

  } catch (e) {
    console.warn("Could not add shaka logo", e);
  }
}

document.addEventListener('shaka-ui-loaded', function () {
  initPlayer();
  addOverlayLogo();
});
</script>
</body>
</html>
