<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JWPlayer ClearKey DRM DASH</title>
  <script src="https://content.jwplatform.com/libraries/SAHhwvZq.js"></script>
  <style>
    body { margin: 0; background: #000; }
    #player { width: 100%; height: 100vh; }
  </style>
</head>
<body>
  <div id="player"></div>

  <script>
    jwplayer.key = 'XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo';

    // Set cookie function
    function setCookie(name, value) {
      document.cookie = name + "=" + value + "; path=/";
    }

    function playVideo() {
      // DASH MPD URL
      var mpdLink = "https://jiotvbpkmob.cdn.jio.com/bpk-tv/Asia_Cup_Hindi_MOB/WDVLive/index.mpd?__hdnea__=st=1758174376~exp=1758260776~acl=/*~hmac=3e3d013e01a62fd576f1b6a3e1aab8a818ccb8292d11ac8e322b4cffcd96b38d";

      // Extract __hdnea__ token and set as cookie
      var tokenMatch = mpdLink.match(/__hdnea__=([^&]+)/);
      var tokenValue = tokenMatch ? tokenMatch[1] : '';
      if(tokenValue) setCookie("__hdnea__", tokenValue);

      // ClearKey DRM configuration
      var clearkeys = {
        "31b13c6f241055aaa965263f3115e684": "61f0cbc9599925a7be93d45e30b8ebe9"
      };

      // Setup JWPlayer
      jwplayer("player").setup({
        playlist: [{
          file: mpdLink,
          type: "dash",
          drm: {
            clearkey: {
              keys: clearkeys,
              headers: {
                "Cookie": "__hdnea__=" + tokenValue
              }
            }
          }
        }],
        width: "100%",
        aspectratio: "16:9",
        autostart: true,
        cast: { appid: 'CC1AD845' }
      });
    }

    window.onload = playVideo;
  </script>
</body>
</html>
